import{f as u,i as p,a as x,p as $,b as w,d as M,t as g,q as U,k as F}from"./index-c1b21b8c.js";var A=g('<button class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors">下载结果'),O=g('<div class="border rounded-md p-4 bg-gray-50 dark:bg-gray-900"><pre class=whitespace-pre-wrap>'),P=g('<div class="container mx-auto p-4 max-w-3xl"><h1 class="text-2xl font-bold mb-6">Markdown 标题层级调整器</h1><div><input type=file accept=.md class=hidden id=fileInput><label for=fileInput class="cursor-pointer text-gray-600 hover:text-blue-600">点击选择文件或拖放至此区域</label><p class="mt-2 text-sm text-gray-500">支持 .md 文件</p></div><textarea placeholder="在此粘贴或输入 Markdown 内容..."class="mb-4 w-full h-24 p-2 bg-white text-black dark:bg-gray-800 dark:text-white"></textarea><div class="flex gap-3 mb-4"><button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors">增加层级 (+)</button><button class="px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors">减少层级 (-)');function z(){const[i,d]=u(""),[o,b]=u(""),[_,c]=u(!1);let h;const k=t=>{t.preventDefault(),c(!0)},y=()=>{c(!1)},L=t=>{if(t.preventDefault(),c(!1),!t.dataTransfer?.items.length)return;const r=t.dataTransfer.items[0];if(r.kind!=="file"){alert("请拖放文件而非文本或链接");return}const e=r.getAsFile();if(!e){alert("无法获取文件对象");return}f(e)},f=t=>new Promise((r,e)=>{const s=new FileReader;s.onload=n=>{const a=n.target?.result;typeof a=="string"&&d(a),r()},s.onerror=()=>{alert("文件读取失败"),e(s.error)},s.readAsText(t,"UTF-8")}),D=t=>t.split(`
`).map(r=>{const e=r.match(/^(#{1,6})\s(.*)/);if(e){let[s,n,a]=e;return n.length<6&&(n="#"+n),`${n} ${a}`}return r}).join(`
`),T=t=>t.split(`
`).map(r=>{const e=r.match(/^(#{1,6})\s(.*)/);if(e){let[s,n,a]=e;return n.length>1&&(n=n.slice(1)),`${n} ${a}`}return r}).join(`
`),E=()=>{b(D(i()))},R=()=>{b(T(i()))},j=()=>{const t=new Blob([o()],{type:"text/markdown"}),r=URL.createObjectURL(t),e=document.createElement("a");e.href=r,e.download="adjusted.md",e.click(),URL.revokeObjectURL(r)},S=t=>{const r=t.clipboardData?.getData("text/plain");r&&d(e=>e+r)};return(()=>{var t=P(),r=t.firstChild,e=r.nextSibling,s=e.firstChild,n=e.nextSibling,a=n.nextSibling,m=a.firstChild,C=m.nextSibling;e.addEventListener("drop",L),e.addEventListener("dragleave",y),e.addEventListener("dragover",k);var v=h;return typeof v=="function"?U(v,e):h=e,s.addEventListener("change",l=>f(l.target.files?.[0])),n.addEventListener("paste",S),n.$$input=l=>d(l.currentTarget.value),m.$$click=E,C.$$click=R,p(a,x($,{get when(){return o()},get children(){var l=A();return l.$$click=j,l}}),null),p(t,x($,{get when(){return o()},get children(){var l=O(),I=l.firstChild;return p(I,o),l}}),null),w(()=>M(e,`border-2 rounded-lg p-8 text-center mb-4 transition-colors
          ${_()?"border-blue-500 bg-blue-50":"border-dashed border-gray-300"}`)),w(()=>n.value=i()),t})()}F(["input","click"]);export{z as default};
