import{f as c,i as p,a as m,p as x,b as v,d as S,t as g,q as U,k as F}from"./index-c1b21b8c.js";var I=g('<button class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors">下载结果'),M=g('<div class="border rounded-md p-4 bg-gray-50 dark:bg-gray-900"><pre class="whitespace-pre-wrap ">'),P=g('<div class="container mx-auto p-4 max-w-3xl"><h1 class="text-2xl font-bold mb-6">Markdown 去除加粗和编号</h1><div><input type=file accept=.md class=hidden id=fileInput><label for=fileInput class="cursor-pointer text-gray-600 hover:text-blue-600">点击选择文件或拖放至此区域</label><p class="mt-2 text-sm text-gray-500">支持 .md 文件</p></div><textarea placeholder="在此粘贴或输入 Markdown 内容..."class="mb-4 w-full h-24 p-2 bg-white text-black dark:bg-gray-800 dark:text-white"></textarea><div class="flex gap-3 mb-4"><button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors">处理文本');function j(){const[u,d]=c(""),[o,$]=c(""),[w,i]=c(!1);let f;const _=t=>{t.preventDefault(),i(!0)},k=()=>{i(!1)},y=t=>{if(t.preventDefault(),i(!1),console.log(t.dataTransfer),!t.dataTransfer?.items.length)return;const r=t.dataTransfer.items[0];if(r.kind!=="file"){alert("请拖放文件而非文本或链接");return}const e=r.getAsFile();if(!e){alert("无法获取文件对象");return}b(e)},b=t=>new Promise((r,e)=>{const a=new FileReader;a.onload=s=>{const n=s.target?.result;typeof n=="string"?(d(n),console.log("成功读取文件内容:",n.length,"字符")):console.error("读取的文件内容不是文本格式"),r()},a.onerror=()=>{console.error("文件读取错误:",a.error),alert("文件读取失败"),e(a.error)},a.onabort=()=>{console.warn("文件读取被中止"),e(new Error("读取被中止"))},a.readAsText(t,"UTF-8")}),T=t=>t.split(`
`).map(r=>{const e=r.match(/^(#{1,6})\s(.*)/);if(e){let[a,s,n]=e;return n=n.replace(/\*\*(.*?)\*\*/g,"$1").replace(/^(\d+\.)+\d+\s*/,"").trim(),n?`${s} ${n}`:r}return r}).join(`
`),D=()=>{$(T(u()))},L=()=>{const t=new Blob([o()],{type:"text/markdown"}),r=URL.createObjectURL(t),e=document.createElement("a");e.href=r,e.download="processed.md",e.click(),URL.revokeObjectURL(r)},E=t=>{const r=t.clipboardData?.getData("text/plain");r&&d(e=>e+r)};return(()=>{var t=P(),r=t.firstChild,e=r.nextSibling,a=e.firstChild,s=e.nextSibling,n=s.nextSibling,R=n.firstChild;e.addEventListener("drop",y),e.addEventListener("dragleave",k),e.addEventListener("dragover",_);var h=f;return typeof h=="function"?U(h,e):f=e,a.addEventListener("change",l=>b(l.target.files?.[0])),s.addEventListener("paste",E),s.$$input=l=>d(l.currentTarget.value),R.$$click=D,p(n,m(x,{get when(){return o()},get children(){var l=I();return l.$$click=L,l}}),null),p(t,m(x,{get when(){return o()},get children(){var l=M(),C=l.firstChild;return p(C,o),l}}),null),v(()=>S(e,`border-2 rounded-lg p-8 text-center mb-4 transition-colors
          ${w()?"border-blue-500 bg-blue-50":"border-dashed border-gray-300"}`)),v(()=>s.value=u()),t})()}F(["input","click"]);export{j as default};
